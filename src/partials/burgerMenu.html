<style>
    #menu-container {
        transition: transform 0.3s ease-in-out;
    }
</style>
<div>
    <div class="menu__button" id="menu__button" onclick="openMenu()" class='cursor-pointer'>
        <div class='stripe'></div>
        <div class='stripe middle'></div>
        <div class='stripe'></div>
    </div>
    <div class="menu" id="menu">
        <div class="menu__body" id='menu__body'>
          <div class="menu__header">
                <div class="menu__close" id="menu_closeButton" onclick="closeMenu()">
                    <span class='stripe-1'></span>
                    <span class='stripe-2'></span>
                  </div>
                  <div class='menu__logo'>
                    <a href="#"><img src="../img/svg/logo.svg" alt="logo"></a>
                  </div>
          </div>
          <div class='menu__user'>
            @include('./menuLoginStatus.html')
          </div>
          <div class='menu__categories'>
            <h2>Разделы</h2>
            @include('./categoryItem.html')
          </div>
          <nav class="menu__nav">
            <a href="#" class="menu__nav-item"><p>Библиотека</p></a>
            <a href="#" class="menu__nav-item"><p>Видеоблог</p></a>
            <a href="#" class="menu__nav-item"><p>О проекте</p></a>
            <a href="#" class="menu__nav-item"3><p>Контакты</p></a>
          </nav>
          <div class='menu__footer'>
            <div class="menu__search">
                  <img alt="Search" src="../img/svg/searchIcon.svg" alt="SearchIcon">
                <input class="menu__search-input" placeholder="Поиск по сайту">
              </div>
            <div class="menu__lang" id="menu_lang" class='lang' onclick="openLang()">
              <img class='menu__lang-flag' width="24" height="8" src="https://img.icons8.com/color/48/russian-federation-circular.png" alt="russian-federation-circular"/>
              <span>Русский</span>
              <img class='menu__lang-arrow' width="10" height="30" src="https://img.icons8.com/ios-glyphs/30/0f8040/sort-down.png" alt="sort-down"/>
              <div id="menu_lang_open" class="menu__lang-open">
                <a href="#"><div class="lang__open-item" onclick="closeLang()">
                    <img class='flag' width="24" height="8" src="https://img.icons8.com/color/48/russian-federation-circular.png" alt="russian-federation-circular"/>
                    <span onclick="closeLang()">Русский</span>
                </div></a>
                <a href="#"><div class="lang__open-item" onclick="closeLang()">
                    <img class='flag' width="24" height="8" src="https://img.icons8.com/color/48/russian-federation-circular.png" alt="russian-federation-circular"/>
                    <span>Русский</span>
                </div></a>
              </div>
            </div>
          </div>
        </div>
    </div>
    
</div>
<script>
    const menuContainer = document.getElementById('menu__body')
    const menu = document.getElementById('menu')
    let isMenuOpen = false;

    const lang = document.getElementById('menu_lang')
    const langOpen = document.getElementById('menu_lang_open')

    const menuOverlay = document.getElementById('menu-container')

    menuOverlay.addEventListener('click', function(event) {
        if (!menu.contains(event.target)) {
            closeMenu();
        }
    });

    function openMenu() {
        menu.style.visibility = 'visible'
        menuContainer.style.transform = 'translateX(300px)'
        isMenuOpen = true
    }

    function closeMenu() {
        menu.style.visibility = 'hidden';
        menuContainer.style.transform = 'translateX(-300px)'
        isMenuOpen = false;
    }

    function openLang() {
        langOpen.style.visibility = 'visible'
        lang.style.borderBottom = 'none'
        lang.style.borderBottomLeftRadius = 0
        lang.style.borderBottomRightRadius = 0
        lang.style.backgroundColor = 'rgb(0,0,0,0.02)'
    }

    function closeLang() {
        langOpen.style.visibility = 'hidden'
        lang.style.borderBottom = '1px solid $green'
        lang.style.borderBottomLeftRadius = '12px'
        lang.style.borderBottomRightRadius = '12px'
        lang.style.backgroundColor = 'none'
    }

  //   document.addEventListener('click', function(event) {
  //   const isClickInsideMenu = menuContainer.contains(event.target);
  //   debugger
  //   if (isClickInsideMenu && isMenuOpen) {
  //       return;
  //   }
  //       menu.style.visibility = 'hidden';
  //       menuContainer.style.transform = 'translateX(-300px)';
  // });
</script>